{
  "project": "SealCode",
  "branchName": "ralph/toggle-category-annotations",
  "description": "Toggle Inline Annotations by Category - Show/hide annotations by category type to reduce visual clutter",
  "userStories": [
    {
      "id": "US-001",
      "title": "Add category visibility state",
      "description": "As a developer, I need to store which categories are visible so the decoration system can filter accordingly.",
      "acceptanceCriteria": [
        "Add categoryVisibility Map<CommentCategory, boolean> in decorations.ts initialized with all categories true",
        "Export isCategoryVisible(category: CommentCategory): boolean function",
        "Export toggleCategoryVisibility(category: CommentCategory): void function",
        "Export showAllCategories(): void function to set all categories visible",
        "Export hideAllCategories(): void function to set all categories hidden",
        "State resets to all-visible on module load",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Filter decorations by category visibility",
      "description": "As a user, I want annotations to appear/disappear based on my category visibility settings.",
      "acceptanceCriteria": [
        "Modify updateDecorations to skip comments where isCategoryVisible(comment.category) returns false",
        "Hidden categories show no gutter icons, background, or inline text",
        "Visible categories display normally based on existing settings",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Add toggle category annotations command",
      "description": "As a user, I want to toggle visibility of specific category annotations via command palette.",
      "acceptanceCriteria": [
        "Add codeReview.toggleCategoryAnnotations command to package.json with title 'Toggle Category Annotations' and category 'Code Review'",
        "Add command to commandPalette menu in package.json",
        "Implement toggleCategoryAnnotations function in commands.ts",
        "Quick pick menu shows all 5 categories with $(check) icon for visible, no icon for hidden",
        "Description shows 'Visible' or 'Hidden' status for each category",
        "Include 'Show All' option at top of quick pick menu",
        "Include 'Hide All' option after 'Show All' in quick pick menu",
        "Selecting a category toggles its visibility and refreshes decorations",
        "Selecting 'Show All' sets all categories visible and refreshes decorations",
        "Selecting 'Hide All' sets all categories hidden and refreshes decorations",
        "Register command in registerCommands() function",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": false,
      "notes": ""
    }
  ]
}
